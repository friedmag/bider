<Ui xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns='http://www.blizzard.com/wow/ui/' xsi:schemaLocation='http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd'>
  <Script file='BidER.lua' />
  <Script file='GRSS_Data.lua' />

  <Frame name="BidERFrame" toplevel="true" frameStrata="HIGH" hidden="true" parent="UIParent" enableMouse="true" movable="true">
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="5" right="5" top="5" bottom="5"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="16"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="16"/>
      </EdgeSize>
    </Backdrop>
    <Size>
      <AbsDimension x="230" y="335"/>
    </Size>
    <Anchors>
      <Anchor point="CENTER" relativePoint="CENTER" relativeTo="$parent"/>
    </Anchors>
    <Layers>
      <Layer level="BACKGROUND">
        <FontString name="BidERTitleText" text="BidER" inherits="GameFontGreen" justifyH="CENTER" justifyV="TOP">
          <Anchors>
            <Anchor point="TOP" relativePoint="TOP" relativeTo="$parent">
              <Offset><AbsDimension x="0" y="-10"/></Offset>
            </Anchor>
          </Anchors>
        </FontString>
        <FontString name="BidERItemText" text="Item name here" inherits="GameFontNormal" justifyH="CENTER" justifyV="TOP">
          <Anchors>
            <Anchor point="TOP" relativePoint="BOTTOM" relativeTo="BidERTitleText">
              <Offset><AbsDimension x="0" y="-3"/></Offset>
            </Anchor>
          </Anchors>
        </FontString>
        <FontString name="BidERStatusText" text="Status" inherits="GameFontNormal" justifyH="CENTER" justifyV="TOP">
          <Anchors>
            <Anchor point="TOP" relativePoint="BOTTOM" relativeTo="BidERItemText">
              <Offset><AbsDimension x="0" y="-3"/></Offset>
            </Anchor>
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <!-- top buttons -->
      <Button name="BidERCloseButton" inherits="UIPanelCloseButton">
        <Anchors>
          <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="$parent">
            <Offset><AbsDimension x="0" y="0"/></Offset>
          </Anchor>
        </Anchors>
        <Scripts>
          <OnClick>
            BidER_Event("CloseWindow");
          </OnClick>
        </Scripts>
      </Button>
      <Button name="BidERPickItemButton" inherits="UIPanelButtonTemplate" text="Pick Item to Auction">
        <Anchors>
          <Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="BidERCloseButton">
            <Offset><AbsDimension x="-5" y="-22"/></Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="220" y="25"/>
        </Size>
        <Scripts>
          <OnClick>
            BidERPickItem();
          </OnClick>
        </Scripts>
      </Button>
      <Button name="BidERStartAuctionButton" inherits="UIPanelButtonTemplate" text="Start and Announce Auction">
        <Anchors>
          <Anchor point="TOP" relativePoint="BOTTOM" relativeTo="BidERPickItemButton">
            <Offset><AbsDimension x="0" y="0"/></Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="220" y="25"/>
        </Size>
        <Scripts>
          <OnClick>
            BidERStartAuction();
          </OnClick>
        </Scripts>
      </Button>

      <!-- bottom buttons -->
      <Button name="BidEREditBidsButton" inherits="UIPanelButtonTemplate" text="Edit Bids">
        <Anchors>
          <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="$parent">
            <Offset><AbsDimension x="-5" y="5"/></Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="220" y="25"/>
        </Size>
        <Scripts>
          <OnClick>
            BidEREditBids();
          </OnClick>
        </Scripts>
      </Button>
      <Button name="BidEREndAuctionButton" inherits="UIPanelButtonTemplate" text="End Auction, Announce Winner">
        <Anchors>
          <Anchor point="BOTTOM" relativePoint="TOP" relativeTo="BidEREditBidsButton">
            <Offset><AbsDimension x="0" y="0"/></Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="220" y="25"/>
        </Size>
        <Scripts>
          <OnClick>
            BidEREndAuction();
          </OnClick>
        </Scripts>
      </Button>
      <Button name="BidERWarnEndingButton" inherits="UIPanelButtonTemplate" text="Warn: Auction Ending Soon">
        <Anchors>
          <Anchor point="BOTTOM" relativePoint="TOP" relativeTo="BidEREndAuctionButton">
            <Offset><AbsDimension x="0" y="0"/></Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="220" y="25"/>
        </Size>
        <Scripts>
          <OnClick>
            BidERWarnEnding();
          </OnClick>
        </Scripts>
      </Button>
      <Button name="BidERSayBidsButton" inherits="UIPanelButtonTemplate" text="Announce Current Bid Level">
        <Anchors>
          <Anchor point="BOTTOM" relativePoint="TOP" relativeTo="BidERWarnEndingButton">
            <Offset><AbsDimension x="0" y="0"/></Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="220" y="25"/>
        </Size>
        <Scripts>
          <OnClick>
            BidERSayBids();
          </OnClick>
        </Scripts>
      </Button>
    </Frames>
    <Scripts>
      <OnLoad>
        BidER_Event("OnLoad")
        this:RegisterEvent("ADDON_LOADED")
        this:RegisterEvent("CHAT_MSG_WHISPER")
        this:RegisterForDrag("LeftButton")
      </OnLoad>
      <OnEvent>
        BidER_SendEvent(self, event, ...)
      </OnEvent>
      <OnDragStart>
        this:StartMoving();
      </OnDragStart>
      <OnDragStop>
        this:StopMovingOrSizing();
      </OnDragStop>
    </Scripts>
  </Frame>
</Ui>
